<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><!-- InstanceBegin template="/Templates/sdkDoc.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link href="../style_sdk.css" rel="stylesheet" type="text/css"/>
<!-- InstanceBeginEditable name="doctitle" -->
<title>JavaScript Callable Methods</title>
<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="head" -->
<meta name="Author" content="Phil Burk">
<meta name="KeyWords" content="ListenUp, JavaScript">
<!-- InstanceEndEditable -->
</head>
<body>
<center>
  <table width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr valign="middle">
      <td width="200" bgcolor="#DCE2E7"><center>
          <font color="#FF9933" size="+2"><strong><em><a href="http://www.javasonics.com/" target="_top"> <font face="Verdana, Arial, Helvetica, sans-serif">JavaSonics</font></a></em> </strong></font>
        </center></td>
      <td width="60" bgcolor="#DCE2E7"><center>
          <h1>SDK</h1>
        </center></td>
      <td bgcolor="#DCE2E7"><center>
          <h1><!-- InstanceBeginEditable name="mainHeading" -->Documentation<!-- InstanceEndEditable --></h1>
        </center></td>
    </tr>
  </table>
</center>
<table width="100%" border="0" cellpadding="0" cellspacing="0" >
  <tr>
    <td valign="top" width="100" bgcolor="#D7E5F2"><br>
      <p><a class="sidenavbar" href="http://www.javasonics.com/" target="_top">Web&nbsp;Home</a></p>
      <p><a class="sidenavbar" href="../index.html" target="_top">SDK&nbsp;Home</a></p>
      <p><a class="sidenavbar" href="index.html" target="_top">Docs</a></p>
      <p><a class="sidenavbar" href="../php_test/index.html" target="_top">Test&nbsp;PHP</a></p>
      <p><a class="sidenavbar" href="../asp_test/index.html" target="_top">Test&nbsp;ASP</a></p>
      <p><a class="sidenavbar" href="../asp_net_test/index.html" target="_top">Test&nbsp;ASP.NET</a></p>
      <p><a class="sidenavbar" href="../examples/index.html" target="_top">Examples</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/demos/" target="_top">Demos</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/downloads/" target="_top">Download</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/sales/" target="_top">Purchase</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/support/" target="_top">Support</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/forum/" target="_top">Forum</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/login/" target="_top">Login</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/contacts.php" target="_top">Contact&nbsp;Us</a></p>
      <p><a class="sidenavbar" href="http://www.mobileer.com/" target="_blank">Company</a></p>
      <br>
    </td>
    <td valign="top"><div class="primary"> <!-- InstanceBeginEditable name="primaryContent" -->
        <h2> JavaScript Callable Methods</h2>
        <p>You may wish to control the ListenUp Applets from JavaScript. This would allow you to combine HTML FORMs, Flash and other goodies with ListenUp. This page describes the public methods that you can call from JavaScript. </p>
        <p>Note that the ListenUp Applet's methods may only be called by JavaScript on systems that support LiveConnect technology. As of 1/4/06 that is only supported on Windows, or on Mac with Firefox or Safari 2.0.2 or later! For more information on LiveConnect click <a href="http://www.javasonics.com/support/check_liveconnect.php" target="_top">here</a>.
        <p>If you want to use JavaScript with a Java Applet then you should set the mayscript parameter in the Applet tag:
        <pre><br> &lt;applet<br>   CODE=&quot;com.softsynth.javasonics.recplay.RecorderUploadApplet<br>   <strong>mayscript=&quot;true&quot;</strong>
   etcetera...       </pre>
        <p>It can take a while for an Applet to load and start. These methods should only be called after the Applet is ready. You can use the &quot;<a href="player_parameters.html">readyScript</a>&quot; Applet parameter to request notification of when the Applet is ready. You can also call the isActive() method to check for Applet readyness.</p>
        <blockquote>
          <pre>
 if( document.ListenUpRecorder.isActive() )
</pre>
        </blockquote>
        <p>Note that RecorderApplet is a subclass of PlayerApplet so all of the methods of PlayerApplet are also methods of RecorderApplet. Similarly RecorderUploadApplet is a subclass of RecorderApplet.</p>
        <table border="0" cellpadding="3" bgcolor="#C0C0C0" >
          <caption>
          Methods of PlayerApplet. Inherited by RecorderApplet and RecorderUploadApplet
          </caption>
          <tr bgcolor="#F8F8FF">
            <td>void erase()</td>
            <td>Erase the entire recording from memory.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void eraseSelected()</td>
            <td>Erase the currently selected range.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void displayMessage( text )</td>
            <td>Set the status message that appears next to the &quot;Send&quot; button.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void fastForward() </td>
            <td>Play forward faster than normal. It will go faster each time you call it. Requires "transcription" license option.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>double getMaxPlayableTime()</td>
            <td>Return length of the current recording in seconds.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>int getUploadQueueDepth()</td>
            <td>This is used along with the "<a href="recorder_parameters.html">queueUploads</a>" parameter. You should use the JavaScript &quot;onbeforeupload&quot; feature to make sure this is zero before allowing the user to exit the page. <a href="../examples/send_using_javascript.html">Here</a> is a related example. Since V1.90.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>String getJavaVendor()</td>
            <td>Return System.getProperty(&quot;java.vendor&quot;).</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>String getJavaVersion()</td>
            <td>Return System.getProperty(&quot;java.version&quot;).</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>boolean isEditable()</td>
            <td>Can the waveform be edited?</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>boolean isPlayable()</td>
            <td>Does the current recording have any playable data?</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>boolean isPlaying()</td>
            <td>Is audio player currently playing?</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>boolean isStopped()</td>
            <td>Is audio player currently stopped?</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>int loadRecording( String URL )</td>
            <td>Stops any current playback or recording. Then starts loading a recording from the given URL. It will wait until enough audio has been downloaded that playback can begin. It returns zero if no error, -1 if the download timed out, and -2 if the download failed.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void loadRecording( String URL, boolean autoPlay )</td>
            <td>Set autoPlay to true if you want playback to start as soon as the recording is ready to play.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void loadRecordingNoWait( String URL )</td>
            <td>Stops any current playback or recording. Then starts loading a recording from the given URL. It will return immediately and not wait for the audio to be downloaded. </td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void pauseAudio()</td>
            <td>Temporarily stop playback of recorded audio. Stays at current position so play() can 
              continue from the same spot.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void play()</td>
            <td>Begin playing recorded audio. Continue until stopAudio() is called or end of recording is reached.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void playBetween( startTime, endTime ) </td>
            <td>Select a specified  region of the current audio message and then play just the selected region. </td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void rewind() </td>
            <td>Rewind while playing. It will go faster each time you call it. Requires "transcription" license option.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void setAudioSelection( startTime, endTime )</td>
            <td>Selected a range of audio data in seconds. If you play() then that range will be played. If record() or eraseSelected() then that range will be deleted.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void setEditable( boolean flag ) </td>
            <td>If set true then the recording can be edited using the waveform display.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void setRecorderStateChangedScript( String scriptText )</td>
            <td>Deprecated - Use requestStateChange and stateChangeCallback
              parameters instead.
              <pre>&nbsp;</pre>            </td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void slowForward() </td>
            <td>Play forward at normal speed. This is used to turn off fastForward(). (Yes, the name could be better.) Requires "transcription" license option.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void stopAudio()</td>
            <td>Stop playing or recording audio. Rewind to beginning.</td>
          </tr>
        </table>
        <table border="0" cellpadding="3" bgcolor="#C0C0C0" >
          <caption>
          <br>
          Methods of  RecorderApplet. Inherited by RecorderUploadApplet
          </caption>
          <tr bgcolor="#F8F8FF">
            <td>void record()</td>
            <td><img style="float:right" src="HeadMic1.gif" alt="head and mic" width="180" height="60">Begin recording audio input. Continue until stopAudio() is called or maxSeconds is reached. Note that when record() is called from JavaScript that an image is displayed to inform the user that recording is active.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>boolean isRecording()</td>
            <td>Is audio player currently recording?</td>
          </tr>
        </table>
        <table border="0" cellpadding="3" bgcolor="#C0C0C0" >
          <caption>
          <br>
          Methods of RecorderUploadApplet
          </caption>
          <tr bgcolor="#F8F8FF">
            <td>void addNameValuePair<a name="addNameValuePair"></a>( String name, String value )</td>
            <td>Add to list of name/value pairs to be uploaded with next sound file. List will be cleared internally after calling sendRecordedMessage().</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void addUploadHeaderPair(name,value)</td>
            <td> Add the pair to the HTTP Request header for the next uploaded recording. It will be cleared before the next recording is uploaded.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void erase()</td>
            <td>Delete any previously recorded material.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void record()</td>
            <td>Begin recording audio input. Continue until stopAudio() is called or maxSeconds is reached.</td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void <strong>save</strong>RecordedMessage()</td>
            <td><p>Save the current recording to the user local hard drive. The user will be shown a file dialog and allowed to name the file and specify the folder to save it in. Since V1.90.</p>
              <p><strong>Important</strong>: The uploading will happen asynchronously so do not follow this code with a redirection to another page. Otherwise the ListenUp Applet will be unloaded before the save has completed.</p></td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void&nbsp;setUploadCompletionScript( String scriptText )</td>
            <td>Specify JavaScript command to be executed when upload has completed. For example:
              <pre>document.RecorderApplet.setUploadCompletionScript("uploadComplete();");</pre>
              <strong>Important</strong>: note that the SUCCESS, WARNING or ERROR result must be returned from your server script in order for this functions to be called. </td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void setUploadFailureScript( String scriptText )</td>
            <td>Specify JavaScript command to be executed when an upload attempt has failed. For example:
              <pre>document.RecorderApplet.setUploadCompletionScript("uploadFailed();");</pre>
              <strong>Important</strong>: note that the SUCCESS, WARNING or ERROR result must be returned from your server script in order for this functions to be called. </td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void sendRecordedMessage()</td>
            <td><p>Start uploading a recorded sound file to the server along with any name/value pairs. </p>
              <p><strong>Important</strong>: The uploading will happen asynchronously so do not follow this code with a redirection to another page. Otherwise the ListenUp Applet will be unloaded before the upload has completed. If you want to go to another page as soon as the upload has finished then please use the refreshURL parameter, or use setUploadCompletionScript() above to cause the redirection. Then the redirection will occur after the upload has finished. </p></td>
          </tr>
          <tr bgcolor="#F8F8FF">
            <td>void sendRecordedMessage( String&nbsp;<a NAME="uploadFileName"></a>uploadFileName )</td>
            <td>Upload a recorded sound file to the server using a specified name for the file on the server.</td>
          </tr>
        </table>
        <!-- InstanceEndEditable --> </div></td>
  </tr>
</table>
<br>
<div align="left"> &copy; 2001-2006 <a href="http://www.mobileer.com/">Mobileer, Inc.</a> &nbsp;&nbsp;This page is from the ListenUp&nbsp;SDK. You can download the SDK from <a href="http://www.javasonics.com/downloads/">here</a>.</div>
</body>
<!-- InstanceEnd --></html>
