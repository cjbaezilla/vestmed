<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><!-- InstanceBegin template="/Templates/sdkDoc.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link href="../style_sdk.css" rel="stylesheet" type="text/css"/>
<!-- InstanceBeginEditable name="doctitle" -->
<title>Server Script to Get Name</title>
<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="head" -->
   
   <meta name="Author" content="Phil Burk">
   <meta name="KeyWords" content="record, voice, Applet, upload, server, scripts, PHP, ASP, JSP">
   
<!-- InstanceEndEditable -->
</head>
<body>
<center>
  <table width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr valign="middle">
      <td width="200" bgcolor="#DCE2E7"><center>
          <font color="#FF9933" size="+2"><strong><em><a href="http://www.javasonics.com/" target="_top"> <font face="Verdana, Arial, Helvetica, sans-serif">JavaSonics</font></a></em> </strong></font>
        </center></td>
      <td width="60" bgcolor="#DCE2E7"><center>
          <h1>SDK</h1>
        </center></td>
      <td bgcolor="#DCE2E7"><center>
          <h1><!-- InstanceBeginEditable name="mainHeading" -->Documentation<!-- InstanceEndEditable --></h1>
        </center></td>
    </tr>
  </table>
</center>
<table width="100%" border="0" cellpadding="0" cellspacing="0" >
  <tr>
    <td valign="top" width="100" bgcolor="#D7E5F2"><br>
      <p><a class="sidenavbar" href="http://www.javasonics.com/" target="_top">Web&nbsp;Home</a></p>
      <p><a class="sidenavbar" href="../index.html" target="_top">SDK&nbsp;Home</a></p>
      <p><a class="sidenavbar" href="index.html" target="_top">Docs</a></p>
      <p><a class="sidenavbar" href="../php_test/index.html" target="_top">Test&nbsp;PHP</a></p>
      <p><a class="sidenavbar" href="../asp_test/index.html" target="_top">Test&nbsp;ASP</a></p>
      <p><a class="sidenavbar" href="../asp_net_test/index.html" target="_top">Test&nbsp;ASP.NET</a></p>
      <p><a class="sidenavbar" href="../examples/index.html" target="_top">Examples</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/demos/" target="_top">Demos</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/downloads/" target="_top">Download</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/sales/" target="_top">Purchase</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/support/" target="_top">Support</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/forum/" target="_top">Forum</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/login/" target="_top">Login</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/contacts.php" target="_top">Contact&nbsp;Us</a></p>
      <p><a class="sidenavbar" href="http://www.mobileer.com/" target="_blank">Company</a></p>
      <br>
    </td>
    <td valign="top"><div class="primary"> <!-- InstanceBeginEditable name="primaryContent" -->

<h2>Script to Generate a Unique Filename</h2>
Note this script is <b>optional</b>. There are also <a href="custom_parameters.html#Name">two
other ways</a> to specify the uploaded file name.
<p>The Applet uses this script first in order to get a unique filename.
This prevents collisions when multiple clients are uploading files at the
same time. The script must return information to the Applet in a specific
format in two lines of text:
<ol>
<li>
a line starting with the word "SUCCESS"</li>

<li>
a line containing the filename by itself</li>
</ol>
Any additional output will be echoed to the Java console for debugging.
<p>If the first line does not start with SUCCESS then the line is assumed
to contain error information and is displayed to the user.
<p>Note that for testing purposes, a simple script could return a non-unique
filename. Here is a PHP example:
<blockquote>
<pre>&lt;?
// Return a non-unique filename to client for testing.
// Tell browser we are sending text not HTML.
// These must come before anything else is printed so that
// they get in the header.&nbsp;
&nbsp;&nbsp;&nbsp; header("Cache-control: private");
&nbsp;&nbsp;&nbsp; header("Content-Type: text/plain");

&nbsp;&nbsp;&nbsp; echo "SUCCESS\n"; // indicate we got a valid filename
&nbsp;&nbsp;&nbsp; echo "msg_123456.wav\n"; // the filename
&nbsp;&nbsp;&nbsp; echo "Additional text will show up in the Java console.\n"; // for debugging
?></pre>
</blockquote>
<p>A script for a real application could create a database record then generate
    a unique filename from the record ID. See "gen_unique_id.php" in the release
    package for an example.<br>
</p>
<!-- InstanceEndEditable --> </div></td>
  </tr>
</table>
<br>
<div align="left"> &copy; 2001-2006 <a href="http://www.mobileer.com/">Mobileer, Inc.</a> &nbsp;&nbsp;This page is from the ListenUp&nbsp;SDK. You can download the SDK from <a href="http://www.javasonics.com/downloads/">here</a>.</div>
</body>
<!-- InstanceEnd --></html>
